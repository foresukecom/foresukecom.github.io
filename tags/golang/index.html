<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.63.2" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>golang&nbsp;&ndash;&nbsp;ふぉれすけ広場</title><link rel="stylesheet" href="/css/core.min.5f0b341df460ef1fdfbfd42c3ca50336a455939836a303acbad7ff5841d74e44f3b08d4963d4cb6bbfc08cd82b4a71fc.css" integrity="sha384-Xws0HfRg7x/fv9QsPKUDNqRVk5g2owOsutf/WEHXTkTzsI1JY9TLa7/AjNgrSnH8"><link rel="alternate" type="application/rss+xml" href="/tags/golang/index.xml" title="ふぉれすけ広場" /><body>
    <div class="base-body"><section id="header" class="site header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><span class="site name">ふぉれすけ広場</span></a></span>
        <span class="header right-side"></span></div></section><div id="content"><section class="article header"><h1>golang</h1></section><ul class="note list"><li class="item"><a class="note" href="/post/go_toml/">
            <p class="note title">TOMLをGolangで読み込もうとして躓いた話</p><p class="note date">2020-02-03</p><p class="note content">GolangでTOMLファイルに書かれた設定を読み込もうした時に躓いたのでメモを残しておきます。
※TOMLファイルについては、公式ドキュメントに日本語訳があるのでここでは省略します。
https://github.com/toml-lang/toml/blob/master/versions/ja/toml-v0.5.0.md
TOMLを読み込むのは以下のライブラリを使用しています。
https://github.com/BurntSushi/toml
焼き寿司🔥🍣…?
今回は例として、以下のTOMLファイルを読み込もうとします。
[API] user = &#34;foresuke&#34; version = &#34;v0.0.1&#34; debug = true limit = 500 失敗例  このコードを実行したところ、以下のような結果になりました。
エラーにはなっていませんが、TOMLの内容が読み込まれていません。
$ go run main1.go false 0 TOMLでは、複数のキー/バリューの組み合わせを纏めたものをテーブルと呼びます。
角括弧([])で囲まれた文字がテーブル名となり、その下に書かれたキー/バリューがテーブルに含まれる要素になります。
今回の例ではAPIというテーブル名の中にuser、version、debug、limitという要素が存在することになります。
解決策  こんな感じにTOML全体を表すConfigとAPIテーブルを表すAPIという構造体を個別に用意したところ、問題なくTOMLの内容を読み込むことが出来ました。
$ go run main2.go foresuke v0.0.1 true 500 (あまり)よくない解決策 テーブルを使わないようにTOMLファイルを書き換えれば、main1.goでも値を取得することが出来ます。
ただ記載する項目が多い場合にはキーの重複が考えられるので実用的ではありません。
user = &#34;foresuke&#34; version = &#34;v0.0.1&#34; debug = true limit = 500 </p></a><p class="note labels"><a class="tag" href="/tags/golang/">Golang</a></p></li><li class="item"><a class="note" href="/post/go_scope/">
            <p class="note title">Golangのスコープについて</p><p class="note date">2019-02-09</p><p class="note content">はじめに Golangを書いてて詰まったことがあったのでメモです。
本文 こんな感じでカテゴリ、商品名、価格を持った構造体のスライスがあるとします。
type product struct { category string name string price uint64 } showcase := []product{ {&quot;果物&quot;, &quot;りんご&quot;, 120}, {&quot;果物&quot;, &quot;バナナ&quot;, 100}, {&quot;果物&quot;, &quot;みかん&quot;, 70}, {&quot;肉&quot;, &quot;鶏もも&quot;, 250}, {&quot;肉&quot;, &quot;豚バラ&quot;, 300}, {&quot;肉&quot;, &quot;カルビ&quot;, 450}, } で、このスライスから果物の価格だけ10円引きします。
for _, v := range showcase { if v.category == &quot;果物&quot; { v.price -= 10 } } こんな感じで書いたのですが、上のfor文だとshowcaseの中身は変更されません。
変数のスコープを考えてなかったのが原因です。 変数vはfor文の中でしか使えないので、いくらvの中身を変更してもshowcaseの中身は変わりません。
for i := 0; i &lt; len(showcase); i++ { if showcase[i].category == &quot;果物&quot; { showcase[i].<span class="mldr">&mldr;more</span></p></a><p class="note labels"><a class="tag" href="/tags/golang/">Golang</a></p></li><li class="item"><a class="note" href="/post/golang_test/">
            <p class="note title">Golangでテストコードを書く少年のお話</p><p class="note date">2019-01-22</p><p class="note content">はじめに お仕事でGolangのテストコードを書くことになったのでお勉強しました。
テスト対象は以下のプログラムです。
 毎朝のルーティンを明文化し、以下の処理をしています。
 降水確率40%以上なら傘を装備する。 冬、もしくは最低気温が5度以下ならコートを装備する。  以下の通り、4つの命令と2つの条件分岐で構成されています。
   項 種別 やってること     ① 命令 持ち物を入れるカバンを用意   ② 条件分岐 降水確率による判定   ③ 命令 カバンに傘を入れる   ④ 条件分岐 季節、最低気温による判定   ⑤ 命令 カバンにコートを入れる   ⑥ 命令 カバンを持ち出す    テストの種類 カバレッジとはテストの網羅率のことを指しています。
「どのパターンのテストを行えば、必要な範囲のテストが完了したのか?」の指標となります。
「必要な範囲」については、C0カバレッジ、C1カバレッジ、C2カバレッジ…とカバレッジの種類によって異なります。
それぞのカバレッジについて簡単に説明していきます。
※C3以降もありますが、よく使われるのはC2までみたいなので、今回は省略します。
C0カバレッジ(命令網羅) すべての命令を最低1回は実行する、というテストケースを満たせばカバレッジが100%になります。
以下のパターンを実行すれば、すべての命令を実行することができるので、C0カバレッジ100%になります。
「降水確率が50%、季節は冬、最低気温12度。」
C1カバレッジ(分岐網羅) すべて条件分岐の組み合わせを通る、というテストケースを満たせばカバレッジが100%になります。
今回はTrue/Falseの分岐が2つあるので4パターンの組み合わせでテストを行う必要があります。
   パターン ② ④ 具体例     パターン1 True True 降水確率が50%、季節は冬、最低気温12度。   パターン2 True False 降水確率が50%、季節は春、最低気温12度。   パターン3 False True 降水確率が20%、季節は冬、最低気温12度。   パターン4 False False 降水確率が20%、季節は春、最低気温12度。    具体的には以下のパラメータでテストをやればOKです。<span class="mldr">&mldr;more</span></p></a><p class="note labels"><a class="tag" href="/tags/golang/">Golang</a></p></li><li class="item"><a class="note" href="/post/golang_panic/">
            <p class="note title">Golangのpanicのお話</p><p class="note date">2018-11-21</p><p class="note content">はじめに Golangというと、クロスコンパイルが特徴の1つとして挙げられます。
クロスコンパイルにより、Macで書いたコードからLinuxやWindows向けの実行ファイルを簡単に生成することができます。そのため、業務で使う便利ツールを作ってチーム内に配る、といったことも容易に行えます。
今回は僕がGolangを書き始めたばかりのころ、他の環境で動かすツールを作ったときに驚いた思い出ばなしです。
サンプルコード 実際のコードとは違いますが、当時は以下のようにエラーが発生したらpanic()で処理を中断させるコードを書いていました。
 で、このコードを以下のようなディレクトリ構成の中に配置していました。log_analysisが1つのプロジェクトというイメージです。
tmp └── tanaka └── azunyan_prpr └── tools └── log_analysis └── main.go このコードをmitchellh/goxを使ってクロスコンパイルすると、以下のように各プラットフォームに対応した実行ファイルが生成されます。
$ gox Number of parallel builds: 3 --&gt; freebsd/amd64: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; netbsd/arm: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; linux/386: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; darwin/386: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; windows/amd64: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; openbsd/386: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; openbsd/amd64: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; windows/386: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; netbsd/386: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; freebsd/arm: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; darwin/amd64: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; linux/arm: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; linux/amd64: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; freebsd/386: _/tmp/tanaka/azunyan_prpr/tools/log_analysis --&gt; netbsd/amd64: _/tmp/tanaka/azunyan_prpr/tools/log_analysis $ ls -1 log_analysis_darwin_386 log_analysis_darwin_amd64 log_analysis_freebsd_386 log_analysis_freebsd_amd64 log_analysis_freebsd_arm log_analysis_linux_386 log_analysis_linux_amd64 log_analysis_linux_arm log_analysis_netbsd_386 log_analysis_netbsd_amd64 log_analysis_netbsd_arm log_analysis_openbsd_386 log_analysis_openbsd_amd64 log_analysis_windows_386.<span class="mldr">&mldr;more</span></p></a><p class="note labels"><a class="tag" href="/tags/golang/">golang</a></p></li><li class="item"><a class="note" href="/post/gae_cron/">
            <p class="note title">GAEでバッチ処理</p><p class="note date">2018-11-07</p><p class="note content">はじめに Google App Engine(GAE)を使って、バッチ処理が実行できたのでメモです。
GAEではcron.yamlに設定を記載することで時間を指定した処理を行うことができます。
サンプル 今回は、slackにメッセージを送信するアプリを定期的に実行させてみます。
slackにメッセージを送る部分は以下のサイトに詳しく記載されているので省略します。
CrossBridge Lab | GolangでSlackの特定のチャンネルにメッセージを送る
今回はGAE上でGolangを動かしてみましたよの構成を元に、GAEのプロジェクトを構築します。
ルートディレクトリ(app.yamlと同じ階層)にcrom.yamlを作成します。
cron.yaml cron.yamlには、以下のように開始時刻や間隔で実行するタイミングを指定することが出来ます。
cron: - description: &quot;毎朝7時(日本時間)に実行&quot; url: /morning timezone: Asia/Tokyo schedule: every day 7:00 - description: &quot;毎週日曜8時(日本時間)に実行&quot; url: /morning timezone: Asia/Tokyo schedule: every sunday 8:00 - description: &quot;毎日0時を起点とし、1時間単位で実行&quot; url: /morning timezone: Asia/Tokyo schedule: every 1 hours その他のスケジュール指定方法や、HTTPリクエスト失敗時のリトライ回数は公式のドキュメントに詳しく記載されています。
注意点 GAEではdev_server.pyでローカルにサーバを立ち上げて、動作確認をすることができます。しかし、ローカル環境では、cron.yamlは動作しません。
localhost:8000 からGAEローカル環境の管理画面を開くことができます。
管理画面にcron.yamlで設定したスケジュールが一覧で表示されるので、Run nowをクリックすることで手動で実行することができます。 Cronの設定を本番環境にデプロイするときは、gcloud app deploy cron.yamlのようにcrom.yamlを指定します。
指定しないと、crom.yamlが読み込まれないため、いつまで待っても処理が実行されません。 Cronが設定されているかどうかは、コンソール画面のcronジョブから確認することが出来ます。 仮に他のユーザからHTTPでのリクエストがあった場合、想定していない時間に処理が実行される可能性があります。
そのため、GAEのcronサービスからのHTTPアクセス以外からのアクセスは除外する必要があります。
GAEのcronサービスからのHTTPアクセスにはHTTPヘッダにX-Appengine-Cron: trueが含まれているので、HTTPリクエストを受け取ったタイミングで、チェックする必要があります
例えば、GolangでGAEのcronサービス以外からのHTTPリクエストを弾くには、以下のように書きます。
(弾いた後の処理がお粗末ですが…)
// cron以外からのアクセスは弾く if r.<span class="mldr">&mldr;more</span></p></a><p class="note labels"><a class="tag" href="/tags/gae/">GAE</a><a class="tag" href="/tags/golang/">golang</a></p></li><li class="item"><a class="note" href="/post/shukujitsu_info/">
            <p class="note title">祝日のカウントダウンタイマー</p><p class="note date">2018-10-30</p><p class="note content">はじめに GoogleAppEngine(GAE)、Golangの勉強のために、祝日までのカウントダウンタイマーを表示するWebページを作ってみました。
https://shukujitsu.info
処理の内容 内閣府が祝日の情報をCSV形式で公開しているので、定期的に取得して、加工して、CloudStorageにアップロードしています。
GAEにアクセスがあると、CloudStorageから祝日情報を読み込んで、いい感じに加工して表示しています。
使ってる技術 GoogleAppEngine インフラとしてGAEを使いました。
GAEに対応していない関数とかもあるので、ドキュメントを見ながら覚えていくしかなさそうです。
たとえば、GolangでHTTPのリクエストを行うときにhttp.Get()を使いますが、GAEでは対応していないのでurlfetch.Clientを使う必要があります。 他にも、Javaでは時刻を扱うjava.time.LocalDateというライブラリがあるのですが、同様にGAEでは使うことができません。
GAE使うなら言語に依らず注意する必要があります。
Golang ネット上に公開されているCSVファイルを読み込んで、Cloud Storageにアップロードする部分をやってます。
もともと、Golangの勉強を兼ねたプロジェクトだったんですが、あまりGolangを使いませんでした。
Vue.js JavaScriptで変数を書き換えると、いい感じにHTMLで表示される内容も変更されます。
まだVue.jsを使いこなせてはいませんが、低い学習コストでさっくり使うことができます。
Scrollify マウススクロールでいい感じに画面を切り替える処理はScrollifyを使いました。
これを使うだけで今風な感じがでます。
今後の課題 データ保管場所 情報をCloudStorageに保存してるので、NoSQLを触ってみようかと考え中です。
日付と祝日名を格納するだけなのでRDBでも問題ないんですけど…
監視、ログ なんらかのエラーが起きた場合はソーリー画面を出し、StackDriver上にログを出すようにしていますが、能動的にチェックしないとエラーに気が付きません。
エラーを検知したら通知する仕組みがほしいですね、LINEかSlackに飛ばすのが今風でしょうか…
パッケージ管理 使用しているライブラリのバージョン管理とかをしていないので、一般的に使われている(らしい)、depを使ってみようかと考え中。
次バージョンのGolangではmodulesという新たなパッケージ管理機能が正式リリース予定なので、最終的にはそっちに映る感じでしょうか。
リファクタリング ディレクトリ階層がぐちゃぐちゃで、1つ1つのファイルも肥大化しているのでキレイにしたいです。
ある程度キレイになったらリポジトリを公開するのもアリですね。
CIツール導入 現在、dev_appserver.pyでローカル環境を立ち上げて、動作チェックが済んだらgcloud app deployで本番環境を更新する、という雑な運用をしています。
雑すぎるので、CircleCIとかを使って、PR投げたらステージング環境でテストが実行されてー、というのを導入したいです。
AltJS 「素のJavaScriptを書くのがツラい」という話を聞くことが増えてきました。
この規模なら素のJavaScriptでも問題ないですが、今後のことを考えるとTypeScriptかCoffeeScriptあたりを勉強して置き換えることを考え中です。
WPA化 WPAであれば、オンライン状態でアクセスしておけば、オフライン状態でもそのWebサイトにアクセスができるようです。
地下鉄などの電波状況が悪い場所でも祝日カウンターが使えれば素敵ですね。
見た目 レイアウト気にし始めるとキリがないので一旦リリースしてしまいました。
運用しながら徐々に変更を加える予定です。
感想 本当はcoinhive仕込みたかったけど神奈川県警に捕まったらいやなので我慢しました。
認証も、DBへのアクセスもないページですが、1人でインフラ、サーバサイド、フロントエンドの構築を行ったのでいろいろと勉強になりました。
細々としたTipsはブログに残していきたいです。 課題もたくさん出てきたので、徐々に直していきます。
欲しい機能とか、気になる箇所があれば、お気軽に@foresukecomまでご連絡下さい。
その他 ここ数年、ウィルキンソンの炭酸水をAmazonで定期購入してます。炭酸水のおかげで、ビールを飲む量がだいぶ減りました。
でも、炭酸水はウイスキーのチェイサーに最適なんですよね…割れば簡単にハイボールも作れるし…
悩ましい飲み物です。</p></a><p class="note labels"><a class="tag" href="/tags/golang/">golang</a><a class="tag" href="/tags/gae/">GAE</a><a class="tag" href="/tags/vue.js/">Vue.js</a></p></li><li class="item"><a class="note" href="/post/google_app_engine_go_ajax/">
            <p class="note title">GAE上でGolangを動かしてみましたよ</p><p class="note date">2018-08-13</p><p class="note content">はじめに GoogleAppEngine上で動くwebサービスをgolangで作りはじめました。
作り始めでつまずくことが多いので自分用の最小構成メモです。 ここで説明するwebサービスは、Ajaxで非同期通信し、Golangが返した文字列を表示するだけのものです。
環境の準備 まずは、GCPの公式ドキュメントを参考にGolang、Cloud SDKをダウンロードします。
以下のようにバージョンが表示されればOKです。
$ goapp version go version 1.9.4 (appengine-1.9.74) darwin/amd64 ちなみに、開発にはmacOS High Sierra(10.13.6)を使用しています。
構成説明 ディレクトリ構成は以下の通りです。
├── app.yaml ├── hello.go └── static ├── js │ └── main.js ├── css │ └── main.css └── index.html この中でGAE特有のファイルはapp.yamlになります。
app.yamlリファレンスに各パラメータの説明が載ってますが、最低限のパラメータだけ書いておきます。
runtime: go #Golangを使用する場合はgoを指定 api_version: go1 #最新のバージョンを使用する場合はgo1を指定 handlers: #リクエストと実行する処理をURLパターン毎に指定 - url: / static_files: static/index.html upload: static/index.html - url: /js static_dir: static/js - url: /css static_dir: static/css - url: /.* script: _go_app その他のファイルについては、特別なことはしていないので説明は省略します。<span class="mldr">&mldr;more</span></p></a><p class="note labels"><a class="tag" href="/tags/golang/">golang</a><a class="tag" href="/tags/gae/">GAE</a></p></li><li class="item"><a class="note" href="/post/golang_json_marshal/">
            <p class="note title">Go言語でJSONを作成したときのイージーミス</p><p class="note date">2018-05-11</p><p class="note content">はじめに Go言語を使って構造体をJSON形式に変換しようとしたら詰まったのでメモです。
JSON形式への変換は標準パッケージに含まれているjson.Marshalを使っています。
失敗例 こんな感じで構造体のスライスをJSONにしようとしたところ、作成されたJSONの中身が空になっていました。  成功例 原因がわからなかったので色々と試行錯誤した結果、下記のコードで想定した動きを確認することができました。 失敗例では10〜12行目の構造体のフィード名の先頭文字を小文字にしていましたが、成功例では先頭文字を大文字に変えています。
 原因 ここまで書けば原因がわかる方も多いと思いますが…
Go言語では変数や関数のスコープが先頭文字列が小文字か、大文字かで判定されます。 先頭文字が大文字の場合は他パッケージからの参照が可能(いわゆるpublic)、先頭文字が小文字の場合は他パッケージから参照不可(いわゆるprivate)となります。 このルールは構造体のフィードにも適用されます。
そのため、失敗例では構造体のフィードに対してパッケージ外からアクセスすることができず、作成されたJSONが空っぽになっていました。
ちなみに 作成されるJSONのKeyを先頭小文字にしたい場合、以下のようにフィードに対してタグをつけることで任意の名前を指定することができます。  おわりに 初歩的なミスでしたが原因に気づくまで時間がかかってしまいました。 前に触ったことがあるはずなんですが…先頭文字でスコープが変化するのは慣れないと忘れちゃいますね。
コンパイルエラーとかで教えてくれないかなぁ。</p></a><p class="note labels"><a class="tag" href="/tags/golang/">golang</a><a class="tag" href="/tags/json/">json</a></p></li><li class="item"><a class="note" href="/post/friday13th/">
            <p class="note title">13日の金曜日です</p><p class="note date">2017-01-13</p><p class="note content">はじめに 2017年1月13日は金曜日です。 Wikipediaをみると諸説あるようですが、主に海外では縁起の悪い日として知られています。
 キリストの最後の晩餐に13人の人がいたことから、13は不吉な数とされた。また、キリストが金曜日に磔刑に処せられたとされていることから、13日の金曜日が不吉であるとされるようになった。一説には、イヴによるアダムの誘惑も大洪水からノアが脱出したのもバベルの塔が壊されたのも13日の金曜日だと言われるが、聖書にそのような記述はない。
北欧神話では12人の神が祝宴を催していた時に、13人目となる招かれざる客ロキが乱入して人気者のバルドルを殺してしまったとされ、キリスト教以前から13を不吉な数としており、13日の金曜日についても伝説を持つ。それは魔女としてキリスト教に追いやられたフリッグが11人の魔女と悪魔を招いて毎週金曜日に悪事を企んでいたからだという。なおゲルマン諸語で「金曜日」を表す語は「フリッグの日」に由来する。
フィリップ4世がフランス全土においてテンプル騎士団の壊滅を図るため、メンバーたちを一斉に逮捕したのが、1307年10月13日の金曜日だった。その後騎士団は異端とされ財産を没収の上解散、幹部たちを火刑に処している。 wikipedia
 21世紀に発生する13日の金曜日 そこで、21世紀に13日の金曜日が発生するタイミングを求めてみました。手作業で確認してもいいのですが、どうせなので勉強中のGo言語を使って楽をしています。
作成したプログラムは以下の通りです。
 21世紀に発生する13日の金曜日、CSVでの結果は以下の通りとなりました。
2000/10/13,2001/04/13,2001/07/13,2002/09/13,2002/12/13,2003/06/13,2004/02/13,2004/08/13,2005/05/13,2006/01/13,2006/10/13,2007/04/13,2007/07/13,2008/06/13,2009/02/13,2009/03/13,2009/11/13,2010/08/13,2011/05/13,2012/01/13,2012/04/13,2012/07/13,2013/09/13,2013/12/13,2014/06/13,2015/02/13,2015/03/13,2015/11/13,2016/05/13,2017/01/13,2017/10/13,2018/04/13,2018/07/13,2019/09/13,2019/12/13,2020/03/13,2020/11/13,2021/08/13,2022/05/13,2023/01/13,2023/10/13,2024/09/13,2024/12/13,2025/06/13,2026/02/13,2026/03/13,2026/11/13,2027/08/13,2028/10/13,2029/04/13,2029/07/13,2030/09/13,2030/12/13,2031/06/13,2032/02/13,2032/08/13,2033/05/13,2034/01/13,2034/10/13,2035/04/13,2035/07/13,2036/06/13,2037/02/13,2037/03/13,2037/11/13,2038/08/13,2039/05/13,2040/01/13,2040/04/13,2040/07/13,2041/09/13,2041/12/13,2042/06/13,2043/02/13,2043/03/13,2043/11/13,2044/05/13,2045/01/13,2045/10/13,2046/04/13,2046/07/13,2047/09/13,2047/12/13,2048/03/13,2048/11/13,2049/08/13,2050/05/13,2051/01/13,2051/10/13,2052/09/13,2052/12/13,2053/06/13,2054/02/13,2054/03/13,2054/11/13,2055/08/13,2056/10/13,2057/04/13,2057/07/13,2058/09/13,2058/12/13,2059/06/13,2060/02/13,2060/08/13,2061/05/13,2062/01/13,2062/10/13,2063/04/13,2063/07/13,2064/06/13,2065/02/13,2065/03/13,2065/11/13,2066/08/13,2067/05/13,2068/01/13,2068/04/13,2068/07/13,2069/09/13,2069/12/13,2070/06/13,2071/02/13,2071/03/13,2071/11/13,2072/05/13,2073/01/13,2073/10/13,2074/04/13,2074/07/13,2075/09/13,2075/12/13,2076/03/13,2076/11/13,2077/08/13,2078/05/13,2079/01/13,2079/10/13,2080/09/13,2080/12/13,2081/06/13,2082/02/13,2082/03/13,2082/11/13,2083/08/13,2084/10/13,2085/04/13,2085/07/13,2086/09/13,2086/12/13,2087/06/13,2088/02/13,2088/08/13,2089/05/13,2090/01/13,2090/10/13,2091/04/13,2091/07/13,2092/06/13,2093/02/13,2093/03/13,2093/11/13,2094/08/13,2095/05/13,2096/01/13,2096/04/13,2096/07/13,2097/09/13,2097/12/13,2098/06/13,2099/02/13,2099/03/13,2099/11/13,2100/08/13 13日の金曜日ということで、JSON形式でも出力できるようにしています。
[{&quot;Year&quot;:2000,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2001,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2001,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2002,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2002,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2003,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2004,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2004,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2005,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2006,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2006,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2007,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2007,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2008,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2009,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2009,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2009,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2010,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2011,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2012,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2012,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2012,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2013,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2013,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2014,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2015,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2015,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2015,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2016,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2017,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2017,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2018,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2018,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2019,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2019,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2020,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2020,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2021,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2022,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2023,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2023,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2024,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2024,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2025,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2026,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2026,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2026,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2027,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2028,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2029,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2029,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2030,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2030,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2031,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2032,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2032,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2033,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2034,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2034,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2035,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2035,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2036,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2037,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2037,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2037,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2038,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2039,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2040,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2040,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2040,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2041,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2041,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2042,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2043,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2043,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2043,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2044,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2045,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2045,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2046,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2046,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2047,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2047,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2048,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2048,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2049,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2050,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2051,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2051,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2052,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2052,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2053,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2054,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2054,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2054,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2055,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2056,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2057,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2057,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2058,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2058,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2059,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2060,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2060,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2061,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2062,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2062,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2063,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2063,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2064,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2065,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2065,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2065,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2066,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2067,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2068,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2068,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2068,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2069,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2069,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2070,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2071,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2071,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2071,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2072,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2073,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2073,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2074,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2074,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2075,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2075,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2076,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2076,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2077,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2078,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2079,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2079,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2080,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2080,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2081,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2082,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2082,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2082,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2083,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2084,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2085,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2085,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2086,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2086,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2087,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2088,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2088,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2089,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2090,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2090,&quot;Month&quot;:10,&quot;Day&quot;:13},{&quot;Year&quot;:2091,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2091,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2092,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2093,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2093,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2093,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2094,&quot;Month&quot;:8,&quot;Day&quot;:13},{&quot;Year&quot;:2095,&quot;Month&quot;:5,&quot;Day&quot;:13},{&quot;Year&quot;:2096,&quot;Month&quot;:1,&quot;Day&quot;:13},{&quot;Year&quot;:2096,&quot;Month&quot;:4,&quot;Day&quot;:13},{&quot;Year&quot;:2096,&quot;Month&quot;:7,&quot;Day&quot;:13},{&quot;Year&quot;:2097,&quot;Month&quot;:9,&quot;Day&quot;:13},{&quot;Year&quot;:2097,&quot;Month&quot;:12,&quot;Day&quot;:13},{&quot;Year&quot;:2098,&quot;Month&quot;:6,&quot;Day&quot;:13},{&quot;Year&quot;:2099,&quot;Month&quot;:2,&quot;Day&quot;:13},{&quot;Year&quot;:2099,&quot;Month&quot;:3,&quot;Day&quot;:13},{&quot;Year&quot;:2099,&quot;Month&quot;:11,&quot;Day&quot;:13},{&quot;Year&quot;:2100,&quot;Month&quot;:8,&quot;Day&quot;:13}] おわりに 日本で仏滅を忌嫌うように、海外では13日の金曜日を嫌っている人がいる…かもしれません。 グローバルな社会を生きる我々は、様々な文化の中で親しまれている、吉日や凶日を知っておくべきではないのでしょうか。</p></a><p class="note labels"><a class="tag" href="/tags/golang/">golang</a></p></li><li class="item"><a class="note" href="/post/recursion/">
            <p class="note title">再帰処理してみた</p><p class="note date">2016-11-30</p><p class="note content">はじめに Go言語を使っているときに、「再帰処理できるのか?」と疑問に思ったので試してみました。
どういった問題が再帰処理に向いているのか分からないので、とりあえず素数判定の処理を作成しています。
素数判定 標準入力された数値が素数か判断するプログラムです。
 これを元に、標準入力された数値以下の素数をすべて出力するプログラムも作ってみました。
 おわりに 今回は、再帰処理が行えることの確認がメインテーマです。100万以下のすべての素数を求めたところ、2時間20分かかりました。効率とか速度とかは度外視しているので、その辺は何卒ご容赦下さい。
学生時代、再帰処理の課題に苦労し「全部while文でいいじゃねぇか」と思っていましたが、再帰処理が使えてよかったと思える場面が来るのでしょうか。</p></a><p class="note labels"><a class="tag" href="/tags/golang/">golang</a></p></li></ul><div class="pagination">
    <ul><li><a class="active" href="/tags/golang/">1</a></li><li><a class="" href="/tags/golang/page/2/">2</a></li></ul>
</div></div><section id="footer" class="footer"><div class="footer-wrap">
    <p class="copyright">ふぉれすけ広場</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io" 
        target="_blank">Hugo</a><span> and the </span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank">Notepadium</a></p>
</div></section>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-89386946-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</div>
</body>

</html>